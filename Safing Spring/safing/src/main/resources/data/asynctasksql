select p.*, (select tag_key from board_tag where p.package_num = package_num) tag_key
from product_package p;

desc product;

select p.product_num, p.product_name, p.product_price, p.product_stock,
     (select ROUND(AVG(rating),2) from product_review where product_num = p.product_num) rating,
     (select COUNT(*) from product_review where product_num = p.product_num) re_count,
     (select tag_key from board_tag where p.product_num = product_num) tag_key,
     (select file_name, min(file_num) from product_file where p.product_num = product_num group by file_name) file_name, 
     (select file_path, min(file_num) from product_file where p.product_num = product_num group by file_path) file_path
from product p
where product_kind like '%의자%';
        
select * from product_review;

select * from product_file;

select file_name,  min(file_num) from product_file group by file_name;